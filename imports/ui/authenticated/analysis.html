<template name="analysis">

    <div class="row ">
        <div class="container">

            <h2>Time to visualize</h2>

            <p>Now that you have successfully uploaded your data it’s time for DavBot to help you out!!! :-)</p>
            <p>First, the columns of your csv file should appear below. By now, we only offer 2D analysis, so you need to select two columns to start the process.</p>
            <p>After selecting these two columns, you may start to chat. The chat consists of identifying terms and matching these terms with the visualizations that they are suited for. Example: select two columns and type “ranking”. The chat will provide you with chart options that better show “ranking charts”, so you select one and then the chart will be drawn on the other side.</p>
            <p>You can type as many terms as you want, if the term is not available, a message “no word found” will be shown. Each found term consists of one or more chart options so you can choose one the better fits your needs.</p>
            <p>Tip: if you want erase the chat, just type ‘clear’.</p>

            <button style="margin-bottom: 10px" id="see" class="btn btn-default">See all terms</button>

            <hr>

            <h4>{{_ 'select max cols'}} <p class="small">Instruction</p></h4>


        <div class="cols">
            {{#each columns}}
                <div class="checkbox">
                    <label><input type="checkbox" value="{{idx}}">{{name}}</label>
                </div>
            {{/each}}
        </div>

        <div class="row bot" style="padding-bottom: 14px; margin-bottom: 30px;">
            <div class="col-md-12">
                <table width="100%" >
                    <tr>
                        <th> Visualization </th>
                        <th> Chat </th>
                    </tr>
                    <tr>
                        <td>
                            <div class="visualization">
                                <div id="chart" style="max-width: 640px; max-height: 480px">

                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="result">
                                <p class="server"><span>> This is a text!</span></p>
                                <p class="server"><span>> Oh really?</span></p>
                                <p class="server"><span>> That's so cool!!!</span></p>
                                <p class="server"><span>> Type clear</span></p>
                            </div>
                            <div class="chat">
                                <form id="chat">
                                    <input id="chat-msg" type="text" name="name" value="">
                                </form>
                            </div>
                        </td>
                    </tr>
                </table>
            </div><!-- col-md-12-->
        </div><!-- row -->

        </div>
    </div>

    {{> termsModal}}

</template>

<template name="termsModal">
    <div class="modal fade">
        <div class="modal-dialog" style="width: 85%;">
            <div class="modal-content">

                <div class="modal-header">
                    <h4 class="modal-title">Available terms</h4>
                </div>

                <div class="modal-body">

                    Green boxes means that the term may render the chart in the correspondent column.

                    <hr>

                    <img src="/mapeamento-termos-graficos.png" alt="terms">

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>
</template>